Here is the **Rooms Pipes Table** — a clear map of all allowed **data pipes** (cross-room and room-to-Vault/host flows) in Anchor OS v1.5.

This table lists every pipe that can exist between rooms or between a room and the outside world (Vault, host, network).  
**Rule:** If a pipe is not in this table, **it does not exist**. No undocumented channels, no ambient leaks, no silent flows.

| Pipe Name / Type               | Source → Destination               | Mechanism / How It Works                                                                 | Direction       | User Consent / Trigger Point                          | Lifetime / When It Dies                              | Logging / Audit (what bay0 records)                                                                 | Security Guarantee / Invariant Enforced |
|--------------------------------|------------------------------------|------------------------------------------------------------------------------------------|-----------------|-------------------------------------------------------|------------------------------------------------------|-----------------------------------------------------------------------------------------------------|-----------------------------------------|
| Courier Transfer               | Room → Vault / Host / USB          | bay0 spawns one-shot courier process; copies file, computes SHA256, logs, dies           | One-way         | Explicit `courier send` command + one-time prompt     | Courier dies immediately after transfer              | Timestamp, source room ID, dest path, file size, SHA256, result (success/fail)                     | Only explicit, one-shot, audited path (Pillar 6: One-Way Flow) |
| Vault Read Mount               | Vault subvolume → Room             | bay0 bind-mounts RO subvolume (e.g. /vault/sub/<room-id>) into room at spawn             | Vault → Room    | Passport `persist` array + one-time prompt            | Room close / kill / reboot (unmount)                 | bay0 logs mount event (room ID, source subvol, RO flag)                                            | Scoped, read-only, explicit (Pillar 3: Explicit Consent) |
| Vault Dropzone Write           | Room → Vault dropzone              | Room writes to /vault/drop/<room-id>/ (write-only mount)                                 | Room → Vault    | Passport `shared` with write mode + one-time consent  | Room close / explicit delete / promote               | bay0 logs: timestamp, room ID, dropzone path, file size, SHA256                                    | Write-only, no overwrite, scoped (Pillar 6: One-Way Flow) |
| Shared Drop Box (Read-Only)    | Drop Box → Room                    | bay0 bind-mounts shared drop box RO into room (fixed path /mnt/shared/<name>)            | Drop Box → Room | Passport `shared` + read-only default                 | Room close / explicit unmount                        | bay0 logs read event (room ID, shared name, file size)                                             | Read-only default, fixed mount point (Pillar 8: Shared Folders) |
| Shared Drop Box (Write-Enabled)| Room → Drop Box                    | Room writes append-only to shared drop box (no overwrite)                                | Room → Drop Box | Passport `shared` + one-time write consent            | Room close / explicit unmount                        | bay0 logs: timestamp, room ID, shared name, file size, SHA256                                      | Append-only, no overwrite, explicit consent (Pillar 8) |
| Session Clipboard Channel      | Room A → Clipboard Channel         | Room A copies text/image to named channel (e.g. clip:work)                               | A → Channel     | Explicit copy action                                  | Session timeout (5 min) or room close                | bay0 logs: timestamp, source room, channel name, data size (text only)                             | Named, scoped, auto-clear (Pillar 7: Ambient IPC) |
| Clipboard Channel Pull         | Clipboard Channel → Room B         | Room B explicitly pulls from channel (prompt or passport allow)                          | Channel → B     | Explicit paste action + source check                  | Same as above                                        | bay0 logs: timestamp, dest room, channel name, data size                                          | Pull-only, explicit consent (Pillar 3: Explicit Consent) |
| Network Outbound               | Room → Internet (via airlock)      | veth pair → airlock → DNSmasq resolve → nftables allow/deny → host NAT                   | Room → Internet | Passport `network` mode (wan-only/full)               | Room close / airlock kill                            | bay0 logs: timestamp, room ID, mode, bytes sent, dest IP/port (if allowed)                         | Mediated by airlock, no direct netns (Pillar 6: One-Way Flow) |
| Network Inbound                | Internet → Room (via airlock)      | Host NAT → airlock nftables → veth → room                                                | Internet → Room | Same as outbound (passport mode)                      | Same as above                                        | bay0 logs: timestamp, room ID, mode, bytes received, source IP/port (if allowed)                   | Mediated, no direct inbound without airlock (Pillar 12: Network Access) |
| Host Export Read               | Host (/etc/anchor/host) → Room     | bay0 bind-mounts RO host metadata (e.g. driver version.json) into room                   | Host → Room     | Passport flag (host-export=true)                      | Room close / reboot                                  | bay0 logs mount event (room ID, host path, RO flag)                                                | Read-only metadata only (no secrets, no authority) (Pillar 13: Device Access) |

### Key Rules for All Pipes

- **No pipe without a row** — undocumented flows are forbidden.
- **Direction is strict** — no bidirectional pipes except courier (which dies).
- **Consent is mandatory** — every pipe has a visible trigger (prompt, passport, copy/paste action).
- **Lifetime is bounded** — all pipes die with the room or on explicit revoke.
- **Audit is bay0-only** — logs are tmpfs, wiped on reboot, never accessible from rooms.
- **No ambient pipes** — no shared memory, no persistent sockets, no global clipboard.

This table is the complete pipe map.  
Any data movement not listed here **cannot happen** in v1.5.
